/*! backbone-superapi-sync - v0.2.0
 *  Release on: 2015-03-23
 *  Copyright (c) 2015 St√©phane Bachelier
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define(["backbone"],function(c){return a["Backbone.superapiSync"]=b(c)}):"object"==typeof exports?module.exports=b(require("backbone")):a["Backbone.superapiSync"]=b(Backbone)}(this,function(){"use strict";var a={create:"post",update:"put","delete":"delete",read:"get"};return Backbone.superapiSync=function(b){return function(c,d,e){var f=a[c];_.defaults(e||(e={}));var g=e.url?e.url:_.result(d,"url")||urlError(),h={type:"json"},i="read"!==c?JSON.stringify(e.attrs||d.toJSON(e)):{},j=b.sendRequest(f,g,i,h);return j.end(function(a){(a.error?e.error:e.success)(a.body||{})}),d.trigger("request",d,j.xhr,e),j.xhr}},Backbone.superapiSync});